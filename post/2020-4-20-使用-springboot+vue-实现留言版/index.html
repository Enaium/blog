<!doctype html><html><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>使用 SpringBoot+Vue 实现留言版</title>
<link rel=stylesheet href=/css/bootstrap.min.css></head><body class="d-flex flex-column justify-content-between min-vh-100"><nav class="navbar navbar-expand-lg bg-light"><div class=container-fluid><a class=navbar-brand href=/><img src=https://simpleicons.org/icons/github.svg alt=Logo width=30 height=24 class="d-inline-block align-text-top">
Enaium's Blog
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class=nav-link aria-current=page href=https://blog.enaium.cn/contact/>Contact</a></li><li class=nav-item><a class=nav-link aria-current=page href=https://blog.enaium.cn/about/>About</a></li></ul></div></div></nav><div style=flex:1><div class=container><div class=card><div class=card-header>使用 SpringBoot+Vue 实现留言版</div><div class=card-body><div class=card-text><h1 id=完成源码httpsgithubcomenaiumspringboot-vue-messageboard><a href=https://github.com/Enaium/SpringBoot-Vue-MessageBoard>完成源码</a></h1><h2 id=一新建vue项目和springboot项目>一.新建Vue项目和SpringBoot项目</h2><h3 id=新建vue项目>新建Vue项目</h3><blockquote><ol><li>新建文件夹<code>SpringBoot-Vue-MessageBoard</code></li><li>创建Vue项目使用<code>vue ui</code>命令(需要vue 3.0</li></ol><blockquote><p>选择刚才的目录<img src=/assets/springboot/2020-4-20-1.png alt=2020-4-20-1>
名字为<code>Vue</code>创建后V还是小写 创建后可以改为大写<img src=/assets/springboot/2020-4-20-2.png alt=2020-4-20-2>
取消git初始化<img src=/assets/springboot/2020-4-20-3.png alt=2020-4-20-3>
手动配置<img src=/assets/springboot/2020-4-20-4.png alt=2020-4-20-4>
取消<img src=/assets/springboot/2020-4-20-5.png alt=2020-4-20-5>
打开<img src=/assets/springboot/2020-4-20-6.png alt=2020-4-20-6>
创建项目，不保存预设<img src=/assets/springboot/2020-4-20-7.png alt=2020-4-20-7></p></blockquote></blockquote><h3 id=新建springboot项目>新建SpringBoot项目</h3><blockquote><ol><li>用IDEA打开<code>SpringBoot-Vue-MessageBoard</code>这个目录</li></ol><blockquote><p><img src=/assets/springboot/2020-4-20-8.png alt=2020-4-20-8>
<img src=/assets/springboot/2020-4-20-9.png alt=2020-4-20-9></p></blockquote><ol start=2><li>创建SpringBoot项目</li></ol><blockquote><p>右键<img src=/assets/springboot/2020-4-20-10.png alt=2020-4-20-10>
选择<code>Spring Initializr</code><img src=/assets/springboot/2020-4-20-11.png alt=2020-4-20-11>
<img src=/assets/springboot/2020-4-20-12.png alt=2020-4-20-12>
选择这四个<img src=/assets/springboot/2020-4-20-13.png alt=2020-4-20-13>
名字改为<code>SpringBoot</code><img src=/assets/springboot/2020-4-20-14.png alt=2020-4-20-14></p></blockquote></blockquote><h2 id=二-后端>二. 后端</h2><h3 id=配置applicationproperties>配置<code>application.properties</code></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#75715e>#Mysql</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>spring.datasource.url</span><span style=color:#f92672>=</span><span style=color:#e6db74>jdbc:mysql://localhost:3306/enaium?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>spring.datasource.username</span><span style=color:#f92672>=</span><span style=color:#e6db74>root</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>spring.datasource.password</span><span style=color:#f92672>=</span><span style=color:#e6db74>root</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>spring.datasource.driver-class-name</span><span style=color:#f92672>=</span><span style=color:#e6db74>com.mysql.cj.jdbc.Driver</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>spring.jpa.show-sql</span><span style=color:#f92672>=</span> <span style=color:#e6db74>true</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>spring.jpa.properties.hibernate.format_sql</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>true</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Server</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>server.port</span><span style=color:#f92672>=</span><span style=color:#e6db74>8181</span>
</span></span></code></pre></div><h3 id=写实体类>写实体类</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> cn.enaium.message.entity;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> lombok.AllArgsConstructor;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> lombok.Data;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> lombok.NoArgsConstructor;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> javax.persistence.Entity;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> javax.persistence.Id;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Project: message
</span></span></span><span style=display:flex><span><span style=color:#75715e> * -----------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Copyright © 2020 | Enaium | All rights reserved.
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Data</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Entity</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@NoArgsConstructor</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@AllArgsConstructor</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Message</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Id</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Long id;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String author;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String message;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String time;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=实体类jpa>实体类Jpa</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> cn.enaium.message.repository;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> cn.enaium.message.entity.Message;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.springframework.data.jpa.repository.JpaRepository;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Project: message
</span></span></span><span style=display:flex><span><span style=color:#75715e> * -----------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Copyright © 2020 | Enaium | All rights reserved.
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>MessageRepository</span> <span style=color:#66d9ef>extends</span> JpaRepository<span style=color:#f92672>&lt;</span>Message, Long<span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=controller>Controller</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> cn.enaium.message.controller;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> cn.enaium.message.entity.Message;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> cn.enaium.message.repository.MessageRepository;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.springframework.beans.factory.annotation.Autowired;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.springframework.web.bind.annotation.GetMapping;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.springframework.web.bind.annotation.RequestMapping;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.springframework.web.bind.annotation.RequestParam;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.springframework.web.bind.annotation.RestController;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.text.SimpleDateFormat;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Date;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Project: message
</span></span></span><span style=display:flex><span><span style=color:#75715e> * -----------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Copyright © 2020 | Enaium | All rights reserved.
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@RestController</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Controller</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Autowired</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> MessageRepository messageRepository;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@RequestMapping</span>(<span style=color:#e6db74>&#34;/getMessages&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> List<span style=color:#f92672>&lt;</span>Message<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>getMessages</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> messageRepository.<span style=color:#a6e22e>findAll</span>();<span style=color:#75715e>//遍历所有留言</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@GetMapping</span>(<span style=color:#e6db74>&#34;/postMessage&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String <span style=color:#a6e22e>postMessage</span>(<span style=color:#a6e22e>@RequestParam</span> String author, <span style=color:#a6e22e>@RequestParam</span> String message) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(author.<span style=color:#a6e22e>replaceAll</span>(<span style=color:#e6db74>&#34; &#34;</span>,<span style=color:#e6db74>&#34;&#34;</span>).<span style=color:#a6e22e>equals</span>(<span style=color:#e6db74>&#34;&#34;</span>) <span style=color:#f92672>||</span> message.<span style=color:#a6e22e>replaceAll</span>(<span style=color:#e6db74>&#34; &#34;</span>,<span style=color:#e6db74>&#34;&#34;</span>).<span style=color:#a6e22e>equals</span>(<span style=color:#e6db74>&#34;&#34;</span>)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;filed&#34;</span>;
</span></span><span style=display:flex><span>        }<span style=color:#75715e>//判断名字和留言是否为空</span>
</span></span><span style=display:flex><span>        messageRepository.<span style=color:#a6e22e>save</span>(<span style=color:#66d9ef>new</span> Message((<span style=color:#66d9ef>long</span>) (messageRepository.<span style=color:#a6e22e>findAll</span>().<span style=color:#a6e22e>size</span>() <span style=color:#f92672>+</span> 1),author,message,<span style=color:#66d9ef>new</span> SimpleDateFormat(<span style=color:#e6db74>&#34;yyyy-MM-dd HH:mm:ss&#34;</span>).<span style=color:#a6e22e>format</span>(<span style=color:#66d9ef>new</span> Date())));<span style=color:#75715e>//保存留言到数据库</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;success&#34;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=解决跨源请求问题>解决跨源请求问题</h3><p><img src=/assets/springboot/2020-4-20-15.png alt=2020-4-20-15></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> cn.enaium.message.config;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.springframework.context.annotation.Configuration;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.springframework.web.servlet.config.annotation.CorsRegistry;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Project: message
</span></span></span><span style=display:flex><span><span style=color:#75715e> * -----------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Copyright © 2020 | Enaium | All rights reserved.
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CorsConfig</span> <span style=color:#66d9ef>implements</span> WebMvcConfigurer {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span><span style=color:#75715e>//重写这个方法</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>addCorsMappings</span>(CorsRegistry registry) {
</span></span><span style=display:flex><span>        registry.<span style=color:#a6e22e>addMapping</span>(<span style=color:#e6db74>&#34;/**&#34;</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>allowedOrigins</span>(<span style=color:#e6db74>&#34;*&#34;</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>allowedMethods</span>(<span style=color:#e6db74>&#34;GET&#34;</span>, <span style=color:#e6db74>&#34;HEAD&#34;</span>, <span style=color:#e6db74>&#34;POST&#34;</span>, <span style=color:#e6db74>&#34;PUT&#34;</span>, <span style=color:#e6db74>&#34;DELETE&#34;</span>, <span style=color:#e6db74>&#34;OPTIONS&#34;</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>allowCredentials</span>(<span style=color:#66d9ef>true</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>maxAge</span>(3600)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>allowedHeaders</span>(<span style=color:#e6db74>&#34;*&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=三-前端>三. 前端</h2><h3 id=安装插件axios和element-ui>安装插件<code>axios</code>和<code>Element UI</code></h3><p><img src=/assets/springboot/2020-4-20-16.png alt=2020-4-20-16></p><p><img src=/assets/springboot/2020-4-20-17.png alt=2020-4-20-17></p><h3 id=写home页面>写<code>Home</code>页面</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>h1</span>&gt;留言版&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>el-input</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;请输入你的名字&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>v-model</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;messageBoard.author&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>maxlength</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;16&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>show-word-limit</span>
</span></span><span style=display:flex><span>        &gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>el-input</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;margin: 20px 0;&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>el-input</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;textarea&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;请输入留言&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>v-model</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;messageBoard.message&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>show-word-limit</span>
</span></span><span style=display:flex><span>        &gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>el-input</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;margin: 20px 0;&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>el-button</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;primary&#34;</span> <span style=color:#a6e22e>plain</span> <span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>click</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;postMessage&#34;</span>&gt;留言&lt;/<span style=color:#f92672>el-button</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>el-divider</span>&gt;&lt;/<span style=color:#f92672>el-divider</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>el-table</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>:data</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;messages&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;250&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>border</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;width: 100%&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>el-table-column</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>prop</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;id&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;序号&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;100&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>el-table-column</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>el-table-column</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>prop</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;author&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;名字&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>el-table-column</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>el-table-column</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>prop</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;message&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;留言&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>el-table-column</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>el-table-column</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>prop</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;time&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;时间&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;160&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>el-table-column</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>el-table</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>el-link</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;primary&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://github.com/Enaium&#34;</span>&gt;By Enaium&lt;/<span style=color:#f92672>el-link</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Home&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>data</span>() {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>messageBoard</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>author</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>message</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>messages</span><span style=color:#f92672>:</span> []
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>methods</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>postMessage</span>() {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>messageBoard</span>.<span style=color:#a6e22e>author</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;&#39;</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>$message</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;请输入你的名字&#39;</span>);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>messageBoard</span>.<span style=color:#a6e22e>message</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;&#39;</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>$message</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;请输入留言&#39;</span>);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>axios</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#34;http://localhost:8181/postMessage?author=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>messageBoard</span>.<span style=color:#a6e22e>author</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;message=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>messageBoard</span>.<span style=color:#a6e22e>message</span>).<span style=color:#a6e22e>then</span>((<span style=color:#a6e22e>t</span>) =&gt; {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>data</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;success&#39;</span>) {
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>$message</span>({
</span></span><span style=display:flex><span>                            <span style=color:#a6e22e>message</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;留言成功&#39;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;success&#39;</span>
</span></span><span style=display:flex><span>                        });
</span></span><span style=display:flex><span>                    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>$message</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;留言失败&#39;</span>);
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                })
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>created</span>() {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>axios</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#34;http://localhost:8181/getMessages&#34;</span>).<span style=color:#a6e22e>then</span>((<span style=color:#a6e22e>t</span>) =&gt; {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>messages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>data</span>
</span></span><span style=display:flex><span>            })
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span></code></pre></div><h3 id=路由页面>路由页面</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Vue</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;vue&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>VueRouter</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;vue-router&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Home</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;../views/Home.vue&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Vue</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>VueRouter</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>routes</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Home&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Home</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>router</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>VueRouter</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mode</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;history&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>routes</span>
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>router</span>
</span></span></code></pre></div><h2 id=四-运行>四. 运行</h2><blockquote><ol><li>运行SpringBoot</li><li>cd 到<code>Vue</code>使用<code>npm run serve</code>运行</li></ol></blockquote><p><img src=/assets/springboot/2020-4-20-18.png alt=2020-4-20-18></p></div><div class="d-flex justify-content-between"><a class=text-reset href=https://blog.enaium.cn/post/2020-3-28-%E5%85%A8%E6%B0%91%E5%86%99%E7%AB%AF%E7%AC%AC%E4%BA%8C%E5%AD%A3%232%E7%A7%BB%E6%A4%8D/>[全民写端第二季]#2移植</a>
<a class=text-reset href=https://blog.enaium.cn/post/2020-5-4-java%E6%8F%92%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/>Java插件化开发</a></div></div></div></div></div><footer class="p-5 bg-dark text-white text-center"><div class=container><p class=lead>Copyright &copy; 2024 Enaium</p></div></footer><script src=/js/bootstrap.bundle.min.js></script></body></html>