<!doctype html><html><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Minecraft Fabric模组开发教程#10 添加矿物</title>
<link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/styles.css></head><body class="d-flex flex-column justify-content-between min-vh-100"><nav class="navbar navbar-expand-lg bg-light"><div class=container-fluid><a class=navbar-brand href=/><img src=/assets/github.svg alt=Logo width=30 height=24 class="d-inline-block align-text-top">
Enaium的博客
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class=nav-link aria-current=page href=https://blog.enaium.cn/contact/>联系</a></li><li class=nav-item><a class=nav-link aria-current=page href=https://blog.enaium.cn/about/>关于</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=# role=button aria-expanded=false><img alt=Logo width=30 height=24 src=/assets/language.svg></a><ul class=dropdown-menu></ul></li></ul></div></div></nav><div style=flex:1><div class=container><div class=card><div class=card-header>Minecraft Fabric模组开发教程#10 添加矿物</div><div class=card-body><div class=card-text><h2 id=注册矿物>注册矿物</h2><p>我们都知道，在矿物被挖掘之后，会掉落经验，所以我们需要使用<code>ExperienceDroppingBlock</code>来创建方块对象，之后需要创建两种矿物，一种是普通的矿物，一种是深层矿物。</p><p><code>ExperienceDroppingBlock</code>的构造函数需要两个参数，第一个是掉落的经验数量，这里也就是创建了一个随机为 10-17 的经验掉落，第二个参数是方块的设置，这里设置了方块的颜色，敲击音效，硬度抗性，必须使用工具，以及挖掘音效。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> Block END_HEART_ORE <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ExperienceDroppingBlock(UniformIntProvider.<span style=color:#a6e22e>create</span>(10, 17), AbstractBlock.<span style=color:#a6e22e>Settings</span>.<span style=color:#a6e22e>create</span>().<span style=color:#a6e22e>mapColor</span>(MapColor.<span style=color:#a6e22e>STONE_GRAY</span>).<span style=color:#a6e22e>instrument</span>(Instrument.<span style=color:#a6e22e>BASEDRUM</span>).<span style=color:#a6e22e>requiresTool</span>().<span style=color:#a6e22e>strength</span>(3.<span style=color:#a6e22e>0f</span>, 3.<span style=color:#a6e22e>0f</span>).<span style=color:#a6e22e>sounds</span>(BlockSoundGroup.<span style=color:#a6e22e>NETHER_ORE</span>));
</span></span></code></pre></div><p>深层矿物的设置和普通矿物差不多，只不过需要调用<code>copy</code>方法。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> Block DEEPSLATE_END_HEART_ORE <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ExperienceDroppingBlock(UniformIntProvider.<span style=color:#a6e22e>create</span>(10, 17), AbstractBlock.<span style=color:#a6e22e>Settings</span>.<span style=color:#a6e22e>copy</span>(END_HEART_ORE).<span style=color:#a6e22e>mapColor</span>(MapColor.<span style=color:#a6e22e>DEEPSLATE_GRAY</span>).<span style=color:#a6e22e>instrument</span>(Instrument.<span style=color:#a6e22e>BASEDRUM</span>).<span style=color:#a6e22e>requiresTool</span>().<span style=color:#a6e22e>strength</span>(4.<span style=color:#a6e22e>5f</span>, 3.<span style=color:#a6e22e>0f</span>).<span style=color:#a6e22e>sounds</span>(BlockSoundGroup.<span style=color:#a6e22e>DEEPSLATE</span>));
</span></span></code></pre></div><p>最后，我们需要注册这两个矿物。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Registry.<span style=color:#a6e22e>register</span>(Registries.<span style=color:#a6e22e>BLOCK</span>, <span style=color:#66d9ef>new</span> Identifier(<span style=color:#e6db74>&#34;awesome&#34;</span>, <span style=color:#e6db74>&#34;end_heart_ore&#34;</span>), END_HEART_ORE);
</span></span><span style=display:flex><span>Registry.<span style=color:#a6e22e>register</span>(Registries.<span style=color:#a6e22e>BLOCK</span>, <span style=color:#66d9ef>new</span> Identifier(<span style=color:#e6db74>&#34;awesome&#34;</span>, <span style=color:#e6db74>&#34;deepslate_end_heart_ore&#34;</span>), DEEPSLATE_END_HEART_ORE);
</span></span></code></pre></div><h2 id=注册矿物物品>注册矿物物品</h2><p>使用之前学习的方法，我们可以很容易的注册矿物物品。</p><h2 id=矿物纹理>矿物纹理</h2><p><img alt=end_heart_ore src=/assets/fabric2024/end_heart_ore.png>
<img alt=deepslate_end_heart_ore src=/assets/fabric2024/deepslate_end_heart_ore.png></p><p>使用之前学习的方法，我们可以很容易的注册矿物纹理。</p><h2 id=多语言文件>多语言文件</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;item.awesome.end_heart_ore&#34;</span>: <span style=color:#e6db74>&#34;End Heart Ore&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;item.awesome.deepslate_end_heart_ore&#34;</span>: <span style=color:#e6db74>&#34;Deepslate End Heart Ore&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;block.awesome.end_heart_ore&#34;</span>: <span style=color:#e6db74>&#34;End Heart Ore&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;block.awesome.deepslate_end_heart_ore&#34;</span>: <span style=color:#e6db74>&#34;Deepslate End Heart Ore&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=掉落物>掉落物</h2><p>这里会比较复杂，需要考虑<code>精准采集</code>和<code>时运</code>的影响，但我们可以使用原版中已经存在的配置。</p><p>我们进入到原版游戏中的<code>data/minecraft/loot_tables/blocks/diamond_ore.json</code>和<code>data/minecraft/loot_tables/blocks/deepslate_diamond_ore.json</code>将钻石矿的掉落配置加以修改。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#75715e>@@ -24,7 +24,7 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                   }
</span></span><span style=display:flex><span>                 }
</span></span><span style=display:flex><span>               ],
</span></span><span style=display:flex><span><span style=color:#f92672>-              &#34;name&#34;: &#34;minecraft:diamond_ore&#34;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+              &#34;name&#34;: &#34;awesome:end_heart_ore&#34;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>             },
</span></span><span style=display:flex><span>             {
</span></span><span style=display:flex><span>               &#34;type&#34;: &#34;minecraft:item&#34;,
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -38,7 +38,7 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                   &#34;function&#34;: &#34;minecraft:explosion_decay&#34;
</span></span><span style=display:flex><span>                 }
</span></span><span style=display:flex><span>               ],
</span></span><span style=display:flex><span><span style=color:#f92672>-              &#34;name&#34;: &#34;minecraft:diamond&#34;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+              &#34;name&#34;: &#34;awesome:end_heart&#34;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>             }
</span></span><span style=display:flex><span>           ]
</span></span><span style=display:flex><span>         }
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -46,5 +46,5 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>       &#34;rolls&#34;: 1.0
</span></span><span style=display:flex><span>     }
</span></span><span style=display:flex><span>   ],
</span></span><span style=display:flex><span><span style=color:#f92672>-  &#34;random_sequence&#34;: &#34;minecraft:blocks/diamond_ore&#34;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+  &#34;random_sequence&#34;: &#34;awesome:blocks/end_heart_ore&#34;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> }
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#75715e>@@ -24,7 +24,7 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                   }
</span></span><span style=display:flex><span>                 }
</span></span><span style=display:flex><span>               ],
</span></span><span style=display:flex><span><span style=color:#f92672>-              &#34;name&#34;: &#34;minecraft:deepslate_diamond_ore&#34;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+              &#34;name&#34;: &#34;awesome:deepslate_end_heart_ore&#34;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>             },
</span></span><span style=display:flex><span>             {
</span></span><span style=display:flex><span>               &#34;type&#34;: &#34;minecraft:item&#34;,
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -38,7 +38,7 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                   &#34;function&#34;: &#34;minecraft:explosion_decay&#34;
</span></span><span style=display:flex><span>                 }
</span></span><span style=display:flex><span>               ],
</span></span><span style=display:flex><span><span style=color:#f92672>-              &#34;name&#34;: &#34;minecraft:diamond&#34;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+              &#34;name&#34;: &#34;awesome:end_heart&#34;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>             }
</span></span><span style=display:flex><span>           ]
</span></span><span style=display:flex><span>         }
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -46,5 +46,5 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>       &#34;rolls&#34;: 1.0
</span></span><span style=display:flex><span>     }
</span></span><span style=display:flex><span>   ],
</span></span><span style=display:flex><span><span style=color:#f92672>-  &#34;random_sequence&#34;: &#34;minecraft:blocks/deepslate_diamond_ore&#34;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+  &#34;random_sequence&#34;: &#34;awesome:blocks/deepslate_end_heart_ore&#34;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> }
</span></span></code></pre></div><h2 id=可挖掘方块>可挖掘方块</h2><p>我们需要在<code>data/minecraft/tags/blocks/mineable/pickaxe.json</code>中添加我们的矿物。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;replace&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;values&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;awesome:end_heart_ore&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;awesome:deepslate_end_heart_ore&#34;</span>
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img alt=10-1 src=/assets/fabric2024/10-1.png>
<img alt=10-2 src=/assets/fabric2024/10-2.png></p><h2 id=矿物配方>矿物配方</h2><p>首先添加熔炉的配方，还是在<code>recipes</code>下创建，格式就是<code>物品ID_from_smelting_矿物ID.json</code>，高炉的配方就是<code>物品ID_from_blasting_矿物ID.json</code>。</p><h3 id=熔炉>熔炉</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:smelting&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;category&#34;</span>: <span style=color:#e6db74>&#34;misc&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;cookingtime&#34;</span>: <span style=color:#ae81ff>200</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;experience&#34;</span>: <span style=color:#ae81ff>1.0</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;end_heart&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ingredient&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;item&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart_ore&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;result&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:smelting&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;category&#34;</span>: <span style=color:#e6db74>&#34;misc&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;cookingtime&#34;</span>: <span style=color:#ae81ff>200</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;experience&#34;</span>: <span style=color:#ae81ff>1.0</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;end_heart&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ingredient&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;item&#34;</span>: <span style=color:#e6db74>&#34;awesome:deepslate_end_heart_ore&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;result&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=高炉>高炉</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:blasting&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;category&#34;</span>: <span style=color:#e6db74>&#34;misc&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;cookingtime&#34;</span>: <span style=color:#ae81ff>100</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;experience&#34;</span>: <span style=color:#ae81ff>1.0</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;end_heart&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ingredient&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;item&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart_ore&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;result&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:blasting&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;category&#34;</span>: <span style=color:#e6db74>&#34;misc&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;cookingtime&#34;</span>: <span style=color:#ae81ff>100</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;experience&#34;</span>: <span style=color:#ae81ff>1.0</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;end_heart&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ingredient&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;item&#34;</span>: <span style=color:#e6db74>&#34;awesome:deepslate_end_heart_ore&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;result&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img alt=10-3 src=/assets/fabric2024/10-3.png>
<img alt=10-4 src=/assets/fabric2024/10-4.png></p><h2 id=矿物生成>矿物生成</h2><p>首先创建矿物的<code>configured_feature</code>，在<code>data\awesome\worldgen\configured_feature</code>中，创建配置<code>end_heart_ore.json</code>。</p><p>其中<code>discard_chance_on_air_exposure</code>就是矿物在空气中曝露的概率，<code>size</code>就是矿物的大小，<code>targets</code>就是矿物生成的目标方块，<code>predicate_type</code>的意思就是判断<code>tag</code>中的方块是否符合要求，不过要注意的是<code>state</code>中的<code>Name</code>必须首字母大写。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:ore&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;config&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;discard_chance_on_air_exposure&#34;</span>: <span style=color:#ae81ff>0.0</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>12</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;targets&#34;</span>: [
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;state&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;Name&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart_ore&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;target&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;predicate_type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:tag_match&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;tag&#34;</span>: <span style=color:#e6db74>&#34;minecraft:stone_ore_replaceables&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;state&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;Name&#34;</span>: <span style=color:#e6db74>&#34;awesome:deepslate_end_heart_ore&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;target&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;predicate_type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:tag_match&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;tag&#34;</span>: <span style=color:#e6db74>&#34;minecraft:deepslate_ore_replaceables&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>然后创建<code>placed_feature</code>，在<code>data\awesome\worldgen\placed_feature</code>中，创建配置<code>end_heart_ore.json</code>。</p><p>在<code>placement</code>中有四个参数，第一个是<code>minecraft:count</code>，就是矿物的数量，第二个是<code>minecraft:in_square</code>，就是矿物的生成范围，第三个是<code>minecraft:height_range</code>，就是矿物的生成高度，第四个是<code>minecraft:biome</code>，表示会在群系中生成。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;feature&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart_ore&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;placement&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:count&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;count&#34;</span>: <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:in_square&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:height_range&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;height&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:trapezoid&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;max_inclusive&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;absolute&#34;</span>: <span style=color:#ae81ff>70</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;min_inclusive&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;absolute&#34;</span>: <span style=color:#ae81ff>-24</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:biome&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>最后注册<code>PlacedFeature</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> RegistryKey<span style=color:#f92672>&lt;</span>PlacedFeature<span style=color:#f92672>&gt;</span> END_HEART_ORE_PLACED_FEATURE <span style=color:#f92672>=</span> RegistryKey.<span style=color:#a6e22e>of</span>(RegistryKeys.<span style=color:#a6e22e>PLACED_FEATURE</span>, <span style=color:#66d9ef>new</span> Identifier(<span style=color:#e6db74>&#34;awesome&#34;</span>,<span style=color:#e6db74>&#34;end_heart_ore&#34;</span>));
</span></span></code></pre></div><p>并且在<code>BiomeModifications</code>中注册<code>END_HEART_ORE_PLACED_FEATURE</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>BiomeModifications.<span style=color:#a6e22e>addFeature</span>(BiomeSelectors.<span style=color:#a6e22e>foundInOverworld</span>(), GenerationStep.<span style=color:#a6e22e>Feature</span>.<span style=color:#a6e22e>UNDERGROUND_ORES</span>, END_HEART_ORE_PLACED_FEATURE);
</span></span></code></pre></div><p><img alt=10-5 src=/assets/fabric2024/10-5.png>
<img alt=10-6 src=/assets/fabric2024/10-6.png></p></div><div class="d-flex justify-content-between"><a class=text-reset href=https://blog.enaium.cn/post/2024-1-13-minecraft-fabric%E6%A8%A1%E7%BB%84%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B%239-%E6%B7%BB%E5%8A%A0%E9%99%84%E9%AD%94%E4%B9%A6/>Minecraft Fabric模组开发教程#9 添加附魔书</a>
<a class=text-reset href=https://blog.enaium.cn/post/2024-1-15-minecraft-fabric%E6%A8%A1%E7%BB%84%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B%2311-%E6%B7%BB%E5%8A%A0%E6%B5%81%E4%BD%93/>Minecraft Fabric模组开发教程#11 添加流体</a></div></div></div></div></div><footer class="p-5 bg-dark text-white text-center"><div class=container><p class=lead>Copyright &copy; 2024 Enaium</p></div></footer><script src=/js/bootstrap.bundle.min.js></script></body></html>