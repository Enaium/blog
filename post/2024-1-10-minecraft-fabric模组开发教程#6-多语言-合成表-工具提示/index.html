<!doctype html><html><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Minecraft Fabric模组开发教程#6 多语言 合成表 提示</title>
<link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/styles.css></head><body class="d-flex flex-column justify-content-between min-vh-100"><nav class="navbar navbar-expand-lg bg-light"><div class=container-fluid><a class=navbar-brand href=/><img src=/assets/github.svg alt=Logo width=30 height=24 class="d-inline-block align-text-top">
Enaium的博客
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class=nav-link aria-current=page href=https://blog.enaium.cn/contact/>联系</a></li><li class=nav-item><a class=nav-link aria-current=page href=https://blog.enaium.cn/about/>关于</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=# role=button aria-expanded=false><img alt=Logo width=30 height=24 src=/assets/language.svg></a><ul class=dropdown-menu></ul></li></ul></div></div></nav><div style=flex:1><div class=container><div class=card><div class=card-header>Minecraft Fabric模组开发教程#6 多语言 合成表 提示</div><div class=card-body><div class=card-text><h2 id=多语言>多语言</h2><p>在之前我们已经添加了物品、物品组和方快，但是它们还没有名称，这里可以使用多语言来为它们添加名称。</p><p>我们在<code>assets/awesome/lang</code>目录下创建一个<code>en_us.json</code>文件，这个文件就是英文语言文件，我们可以在这个文件中添加多语言。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;item.awesome.end_heart&#34;</span>: <span style=color:#e6db74>&#34;End Heart&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;item.awesome.end_heart_block&#34;</span>: <span style=color:#e6db74>&#34;End Heart Block&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;block.awesome.end_heart_block&#34;</span>: <span style=color:#e6db74>&#34;End Heart Block&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;itemGroup.awesome.item_group&#34;</span>: <span style=color:#e6db74>&#34;Awesome&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img src=/assets/fabric2024/6-1.png alt=6-1></p><h2 id=合成表>合成表</h2><p>合成表是用来合成物品的，我们可以在这里设置合成物品的配方。</p><p>在<code>data\awesome\recipes</code>创建一个<code>end_heart_block.json</code>文件，也就是如何在工作台中合成<code>end_heart_block.json</code>。</p><p>其中<code>type</code>是合成表的类型，<code>pattern</code>是合成表的合成模式，也就是在工作台中的物品摆放位置，<code>key</code>是合成表的材料，<code>result</code>是合成表的结果。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:crafting_shaped&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;pattern&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;EEE&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;EEE&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;EEE&#34;</span>
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;key&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;E&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;item&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;result&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;item&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart_block&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;count&#34;</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>接着我们需要再添加一个分解的合成表，也就是如何将<code>end_heart_block</code>分解成<code>end_heart</code>。</p><p>在<code>data\awesome\recipes</code>创建一个<code>end_heart.json</code>文件。</p><p>和之前的合成表不同的是，这个合成表的<code>type</code>是<code>minecraft:crafting_shapeless</code>，也就是无序合成表，<code>ingredients</code>是合成表的材料，<code>result</code>是合成表的结果。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;minecraft:crafting_shapeless&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ingredients&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;item&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart_block&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;result&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;item&#34;</span>: <span style=color:#e6db74>&#34;awesome:end_heart&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;count&#34;</span>: <span style=color:#ae81ff>9</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img src=/assets/fabric2024/6-2.png alt=6-2></p><p><img src=/assets/fabric2024/6-3.png alt=6-3></p><h2 id=提示>提示</h2><p>我们可以在方块上添加提示，当玩家将鼠标悬停在方块上时，就会显示提示。</p><p>在<code>EndHeartBlock</code>中添加<code>appendTooltip</code>方法，之后调用<code>tooltip.add</code>添加提示，使用<code>Text.translatable</code>方法可以将多语言的key转换为对应的多语言。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>EndHeartBlock</span> <span style=color:#66d9ef>extends</span> Block {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>appendTooltip</span>(ItemStack stack, <span style=color:#a6e22e>@Nullable</span> BlockView world, List<span style=color:#f92672>&lt;</span>Text<span style=color:#f92672>&gt;</span> tooltip, TooltipContext options) {
</span></span><span style=display:flex><span>        tooltip.<span style=color:#a6e22e>add</span>(Text.<span style=color:#a6e22e>translatable</span>(<span style=color:#e6db74>&#34;tooltip.awesome.end_heart_block&#34;</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>EndHeartItem</span> <span style=color:#66d9ef>extends</span> Item {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>appendTooltip</span>(ItemStack stack, <span style=color:#a6e22e>@Nullable</span> World world, List<span style=color:#f92672>&lt;</span>Text<span style=color:#f92672>&gt;</span> tooltip, TooltipContext context) {
</span></span><span style=display:flex><span>        tooltip.<span style=color:#a6e22e>add</span>(Text.<span style=color:#a6e22e>translatable</span>(<span style=color:#e6db74>&#34;tooltip.awesome.end_heart&#34;</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;tooltip.awesome.end_heart&#34;</span>: <span style=color:#e6db74>&#34;End Heart&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;tooltip.awesome.end_heart_block&#34;</span>: <span style=color:#e6db74>&#34;End Heart Block&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img src=/assets/fabric2024/6-4.png alt=6-4></p><p><img src=/assets/fabric2024/6-5.png alt=6-5></p></div><div class="d-flex justify-content-between"><a class=text-reset href=https://blog.enaium.cn/post/2024-1-9-minecraft-fabric%E6%A8%A1%E7%BB%84%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B%235-%E6%B7%BB%E5%8A%A0%E6%96%B9%E5%9D%97/>Minecraft Fabric模组开发教程#5 添加方块</a>
<a class=text-reset href=https://blog.enaium.cn/post/2024-1-10-minecraft-fabric%E6%A8%A1%E7%BB%84%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B%237-%E6%B7%BB%E5%8A%A0%E7%9B%94%E7%94%B2/>Minecraft Fabric模组开发教程#7 添加盔甲</a></div></div></div></div></div><footer class="p-5 bg-dark text-white text-center"><div class=container><p class=lead>Copyright &copy; 2024 Enaium</p></div></footer><script src=/js/bootstrap.bundle.min.js></script></body></html>